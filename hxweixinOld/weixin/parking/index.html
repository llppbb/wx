<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
		<title>Mobiscroll</title>

		<script type="text/javascript" src="weixin/parking/js/iscroll.js"></script>
		<script type="text/javascript" src="weixin/parking/js/zepto.js"></script>
		<script src="weixin/parking/js/jquery-1.8.2.min.js"></script>
		<!-- <script src="js/mobiscroll.appframework.js"></script> -->
		<script src="weixin/parking/js/mobiscroll.core.js"></script>
		<script src="weixin/parking/js/mobiscroll.widget.js"></script>
		<script src="weixin/parking/js/mobiscroll.scroller.js"></script>
		<script src="weixin/parking/js/mobiscroll.util.datetime.js"></script>
		<script src="weixin/parking/js/mobiscroll.datetimebase.js"></script>
		<script src="weixin/parking/js/mobiscroll.widget.ios.js"></script>
		<script src="weixin/parking/js/mobiscroll.i18n.zh.js"></script>
		<script src="weixin/common/fontSize.js"></script>

		<link href="weixin/parking/css/mobiscroll.animation.css" rel="stylesheet" type="text/css" />
		<link href="weixin/parking/css/mobiscroll.widget.css" rel="stylesheet" type="text/css" />
		<link href="weixin/parking/css/mobiscroll.widget.ios.css" rel="stylesheet" type="text/css" />
		<link href="weixin/parking/css/mobiscroll.scroller.css" rel="stylesheet" type="text/css" />
		<link href="weixin/parking/css/mobiscroll.scroller.ios.css" rel="stylesheet" type="text/css" />
		<style>
			* {
				margin: 0px;
				padding: 0px;
			}

			html {
				font-size: 100px;
			}

			body {
				font-size: 14px;
			}

			.dw-on {
				color: #000 !important;
			}

			.customdate {
				width: 100%;
				margin-top: 0.2rem;
			}

			.customdate table,
			.customdate table tbody {
				display: inline-block;
				width: 100%;
			}

			.customdate table tr {
				width: 100%;
				display: flex;
				height: 0.4rem;
				line-height: .4rem;
				-webkit-flex-direction: row;
				border-bottom: 1px solid #CCCCCC;
			}

			.customdate table tr td {
				flex: 1;
				text-align: center;
			}

			.customdate table tr td p {
				line-height: 0.2rem !important;
			}

			.th {
				border-bottom: none !important;
				height: .24rem !important;
				line-height: .24rem !important;
			}

			.th td:nth-of-type(1),
			.th td:nth-of-type(13) {
				background: rgb(74, 68, 48);
				color: #fff;
			}

			.th td:nth-of-type(3),
			.th td:nth-of-type(5),
			.th td:nth-of-type(7),
			.th td:nth-of-type(9),
			.th td:nth-of-type(11) {
				color: #fff;
				background: rgb(160, 135, 72);
			}

			.th td:nth-of-type(2) {
				background: rgb(246, 216, 158);
			}

			.th td:nth-of-type(4) {
				background: rgb(235, 225, 96);
			}

			.th td:nth-of-type(6) {
				background: rgb(183, 217, 103);
			}

			.th td:nth-of-type(8) {
				background: rgb(195, 112, 112);
			}

			.th td:nth-of-type(10) {
				background: rgb(191, 122, 163);
			}

			.th td:nth-of-type(12) {
				background: rgb(246, 216, 158);
			}
		</style>
		<script type="text/javascript">
			$(function() {
				var nowData = new Date();
				var opt = {
					theme: 'ios', //设置显示主题
					mode: 'scroller', //设置日期选择方式，这里用滚动
					display: 'bottom', //设置控件出现方式及样式
					preset: 'datetime', //日期:年 月 日 时 分
					minDate: nowData,
					maxDate: new Date(nowData.getFullYear(), nowData.getMonth(), nowData.getDate() + 14, 22, 00),
					//              dateFormat: 'yy-mm-dd', // 日期格式
					//              dateOrder: 'yymmdd', //面板中日期排列格式
					stepMinute: 5, //设置分钟步长
					yearText: '年',
					monthText: '月',
					dayText: '日',
					hourText: '时',
					minuteText: '分',
					lang: 'zh' //设置控件语言};
				};
				$('#test').mobiscroll(opt);
			});
		</script>
	</head>

	<body>

		<input type="text" />
		<input type="text" name="test" id="test" />
		<!--日期-->
		<div class="customdate">
			<table border="0" cellspacing="0" cellpadding="0">
				<tr class="th">
					<td>日</td>
					<td></td>
					<td>一</td>
					<td></td>
					<td>二</td>
					<td></td>
					<td>三</td>
					<td></td>
					<td>四</td>
					<td></td>
					<td>五</td>
					<td></td>
					<td>六</td>
				</tr>

				<tr id="trfirst">
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>

				<tr id="trsecond">
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>

				<tr id="trthird">
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>

			</table>
		</div>

		<script language="JavaScript" type="text/javascript" src="weixin/parking/js/getCNdate.js"></script>
		<script>
			var dateArr = []; //装 日期 和 农历

			// 获取 日
			console.log(date("year"));

			//获得n天后的 日期
			var ndayback = date("year")[0] + "-" + date("year")[1] + "-" + date("year")[2];

			for(var i = 0; i < 15; i++) {

				var  nd  =  addNDays(ndayback, i);

				var  getNewDay  =  nd.format('MM-dd');

                 var month=getNewDay.slice(0,2);
                 var day=getNewDay.slice(3);
                 console.log(month+day);
//				console.log("后" + i + "天的时间");
//				console.log(getNewDay);
//
//				var d3 = new Date(date("year")[0], date("year")[1] - 1, getNewDay); 
//				var result = GetResult(d3);

//				dateArr.push(new dateObj(getNewDay, result));

				dateArr.push(new dateObj(day,month));
			}
			//向数组添加 对象
			function dateObj(day, month) {
				this.day = day;    
				this.month = month;    
//				this.CNDate = CNDate;
			}
			//			 console.log(dateArr);

			//获取星期
			//		     console.log(showTime());
			//
			//          $("#trfirst").find("td").eq(showTime()).html(htmlDate);

			var arrslic = 7 - showTime();

			var dateArr1 = dateArr.splice(0, arrslic);
			var dateArr2 = dateArr.splice(0, 7);
			var dateArr3 = dateArr;


				console.log(dateArr1);
				console.log(dateArr2);
				console.log(dateArr3);


			for(var j = 0; j < dateArr1.length; j++) {

				var index = parseInt(showTime()) + parseInt(j);
				var newindex = index * 2;
				//          	var htmlDate='<p>'+dateArr1[j].day+'</p><p>'+dateArr1[j].CNDate+'</p>';
				var htmlDate = dateArr1[j].day;
				var month=dateArr1[j].month;
				$("#trfirst").find("td").eq(newindex).html(htmlDate);
				if(j == 0) {
					$("#trfirst").find("td").eq(newindex - 1).html(month);
				}
				if(dateArr1[j].day == 11) {
					$("#trfirst").find("td").eq(newindex - 1).html(month);
				}

			}

			for(var j = 0; j < dateArr2.length; j++) {
				var index = parseInt(j);
				var newindex = index * 2;
				//          	console.log(newindex);
				//          	var htmlDate='<p>'+dateArr2[j].day+'</p><p>'+dateArr2[j].CNDate+'</p>';
				var htmlDate = dateArr2[j].day;
				var month=dateArr2[j].month;
				if(dateArr2[j].day == 11) {
					$("#trsecond").find("td").eq(newindex - 1).html(month);
				}
				$("#trsecond").find("td").eq(newindex).html(htmlDate);
			}

			for(var j = 0; j < dateArr3.length; j++) {
				var index = parseInt(j);
				var newindex = index * 2;
				//          	var htmlDate='<p>'+dateArr3[j].day+'</p><p>'+dateArr3[j].CNDate+'</p>';
				var htmlDate = dateArr3[j].day;
				var month=dateArr3[j].month;
				if(dateArr3[j].day == 11) {
					$("#trthird").find("td").eq(newindex - 1).html(month);
				}
				$("#trthird").find("td").eq(newindex).html(htmlDate);
			}

			//将 中国标准时间 转成 年月日

		</script>
	</body>

</html>
