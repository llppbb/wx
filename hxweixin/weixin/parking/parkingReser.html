<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
	<meta content="width=device-width,initial-scale=1.0" name="viewport">
	<meta content="telephone=no" name="format-detection"/>
	<meta content="email=no" name="format-detection"/>
	<title>车位预约</title>
	<link rel="stylesheet" href="weixin/parking/css/css/reset.css">
	<link rel="stylesheet" href="weixin/parking/css/css/carnumselection.css">
	<style>
		.dw-on {
			color: #000 !important;
		}

		.customdate {
			width: 100%;
			margin-top: 0.2rem;
		}

		.customdate table,
		.customdate table tbody {
			display: inline-block;
			width: 100%;
		}

		.customdate table tr {
			width: 100%;
			display: flex;
			height: 0.4rem;
			line-height: .4rem;
			-webkit-flex-direction: row;
			border-bottom: 1px solid #CCCCCC;
		}

		.customdate table tr td {
			flex: 1;
			text-align: center;
		}

		.customdate table tr td p {
			line-height: 0.2rem !important;
		}

		.th {
			border-bottom: none !important;
			height: .24rem !important;
			line-height: .24rem !important;
		}

		.th td:nth-of-type(1),
		.th td:nth-of-type(13) {
			background: rgb(74, 68, 48);
			color: #fff;
		}

		.th td:nth-of-type(3),
		.th td:nth-of-type(5),
		.th td:nth-of-type(7),
		.th td:nth-of-type(9),
		.th td:nth-of-type(11) {
			color: #fff;
			background: rgb(160, 135, 72);
		}

		.th td:nth-of-type(2) {
			background: rgb(246, 216, 158);
		}

		.th td:nth-of-type(4) {
			background: rgb(235, 225, 96);
		}

		.th td:nth-of-type(6) {
			background: rgb(183, 217, 103);
		}

		.th td:nth-of-type(8) {
			background: rgb(195, 112, 112);
		}

		.th td:nth-of-type(10) {
			background: rgb(191, 122, 163);
		}

		.th td:nth-of-type(12) {
			background: rgb(246, 216, 158);
		}
		
	</style>
</head>
<body>
	<div class="container" ng-controller='carnumselectionCtrl'>
		<div class="lister">
	       <p class="pTitle">华熙Live停车场2</p>
	       <p class="jiantou">&gt;</p>
	       <br>
	       <span class="charge">收费<span class="hours">5元/小时</span></span>
	       <span class="Reservationster">当前可预订车位数<span class="cars">388个</span></span>
	       <div class="hrs"></div>
	       <span class="address"><span>海淀区复兴路69号</span></span>
		</div>
		<div class="footer">
			<p class="pDateTitle">2017一06一27</p>
			<p class="jiantoua" id="datebtn">&gt;</p>
			<br>
			<span class="tishi">可预订两周内车位</span>

			<!--日期-->
			<div class="customdate" style="display:none">
				<table border="0" cellspacing="0" cellpadding="0">
					<tr class="th">
						<td>日</td>
						<td></td>
						<td>一</td>
						<td></td>
						<td>二</td>
						<td></td>
						<td>三</td>
						<td></td>
						<td>四</td>
						<td></td>
						<td>五</td>
						<td></td>
						<td>六</td>
					</tr>

					<tr id="trfirst">
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
					</tr>

					<tr id="trsecond">
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
					</tr>

					<tr id="trthird">
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
					</tr>

				</table>
			</div>

	        <div class="hrster"></div>
	        <p class="often">预约时间及时长</p>
			<p class="jiantoub">&gt;</p>
			<br>
			<span class="tishi">提前入场提前计时</span>
			<br>
			<span class="tishi">延迟入场从预约时间开始计时</span>
			<div class="hrster"></div>
			<span class="JN1 bloc {{i==1?'infos':''}}" ng-click="isActive(1)">京N123456</span>
			<span class="JN2 bloc {{i==2?'infos':''}}" ng-click="isActive(2)">京N88888</span>
			<span class="JN3 bloc {{i==3?'infos':''}}" ng-click="isActive(3)">京N66666</span>
			<span class="Tipcart">车牌号请于预约车辆移至，增减车牌请至个人中心</span>

		</div>
		<div class="times">
			<span class="spantishi">1.车位预约不支持积分抵扣</span>
			<br>
			<span class="spantishi">2.如形成变更，请在前一天24:00前取消</span>
			<br>
			<span class="spantishi">3.每车牌每天最多可预约两单</span>
		</div>
		<p  class="btn">选择日期&nbsp;时间&nbsp;车辆后生成费用</p>
	</div>

	<script src="weixin/parking/js/jquery-1.8.2.min.js"></script>
	<script src="weixin/common/fontSize.js"></script>
	<script src="weixin/common/common.js"></script>
	<script src="weixin/common/md5.js"></script>
	<script type="text/javascript" src="https://pingjs.qq.com/h5/stats.js" name="MTAH5" sid="500338441"></script>
	<script language="JavaScript" type="text/javascript" src="weixin/parking/js/getCNdate.js"></script>
	<script>
		var dateArr = []; //装 日期 和 农历

		// 获取 日
		console.log(date("year"));

		//获得n天后的 日期
		var ndayback = date("year")[0] + "-" + date("year")[1] + "-" + date("year")[2];

		for(var i = 0; i < 15; i++) {

			var  nd  =  addNDays(ndayback, i);

			var  getNewDay  =  nd.format('MM-dd');

			 var month=getNewDay.slice(0,2);
			 var day=getNewDay.slice(3);
			 console.log(month+day);
//				console.log("后" + i + "天的时间");
//				console.log(getNewDay);
//
//				var d3 = new Date(date("year")[0], date("year")[1] - 1, getNewDay); 
//				var result = GetResult(d3);

//				dateArr.push(new dateObj(getNewDay, result));

			dateArr.push(new dateObj(day,month));
		}
		//向数组添加 对象
		function dateObj(day, month) {
			this.day = day;    
			this.month = month;    
//				this.CNDate = CNDate;
		}
		//			 console.log(dateArr);

		//获取星期
		//		     console.log(showTime());
		//
		//          $("#trfirst").find("td").eq(showTime()).html(htmlDate);

		var arrslic = 7 - showTime();

		var dateArr1 = dateArr.splice(0, arrslic);
		var dateArr2 = dateArr.splice(0, 7);
		var dateArr3 = dateArr;


			console.log(dateArr1);
			console.log(dateArr2);
			console.log(dateArr3);


		for(var j = 0; j < dateArr1.length; j++) {

			var index = parseInt(showTime()) + parseInt(j);
			var newindex = index * 2;
			// var htmlDate='<p>'+dateArr1[j].day+'</p><p>'+dateArr1[j].CNDate+'</p>';
			var htmlDate = dateArr1[j].day;
			var month=dateArr1[j].month;
			$("#trfirst").find("td").eq(newindex).html(htmlDate);
			if(j == 0) {
				$("#trfirst").find("td").eq(newindex - 1).html(month);
			}
			if(dateArr1[j].day == 11) {
				$("#trfirst").find("td").eq(newindex - 1).html(month);
			}

		}

		for(var j = 0; j < dateArr2.length; j++) {
			var index = parseInt(j);
			var newindex = index * 2;
			// console.log(newindex);
			// var htmlDate='<p>'+dateArr2[j].day+'</p><p>'+dateArr2[j].CNDate+'</p>';
			var htmlDate = dateArr2[j].day;
			var month=dateArr2[j].month;
			if(dateArr2[j].day == 11) {
				$("#trsecond").find("td").eq(newindex - 1).html(month);
			}
			$("#trsecond").find("td").eq(newindex).html(htmlDate);
		}

		for(var j = 0; j < dateArr3.length; j++) {
			var index = parseInt(j);
			var newindex = index * 2;
			// var htmlDate='<p>'+dateArr3[j].day+'</p><p>'+dateArr3[j].CNDate+'</p>';
			var htmlDate = dateArr3[j].day;
			var month=dateArr3[j].month;
			if(dateArr3[j].day == 11) {
				$("#trthird").find("td").eq(newindex - 1).html(month);
			}
			$("#trthird").find("td").eq(newindex).html(htmlDate);
		}

		//将 中国标准时间 转成 年月日

		// 日历
	   	 $("#datebtn").click(function(){
	   	    $(".customdate").slideToggle();
	   	 });

	</script>
</body>
</html>
